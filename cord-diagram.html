<!DOCTYPE html>
<html lang="en" dir="ltr">

<!-- Mirrored from transparency-initiative.org/tax/cord-diagram by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Dec 2021 19:04:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <link rel="profile" href="vocab.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="shortcut icon" href="ico/favicon.ico" type="image/vnd.microsoft.icon" />
  <title>THE TAX ECOSYSTEM | Transparency &amp; Accountability Initiative</title>
  <link type="text/css" rel="stylesheet" href="css/css_got3hgub4zymgei-rvlycxaerb08o9joocl4jntzaey.css" media="all" />
<link type="text/css" rel="stylesheet" href="css/css_ymumqum--85mdg6gf8xft60xnxosyekarfr5yk0-svc.css" media="all" />
<link type="text/css" rel="stylesheet" href="css/css_uwmybkb6t65lcol6_bhvk0kdkwjgokyydwbzws9ywuc.css" media="all" />
<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" media="all" />
<link type="text/css" rel="stylesheet" href="css/css_zgyk-yqpks03far2auasjl2vg7axtujoqrhhsfxkewm.css" media="all" />
  <!-- HTML5 element support for IE6-8 -->
  <!--[if lt IE 9]>
    <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="js/jquery.min.js"></script>
<script>window.jQuery || document.write("<script src='js/jquery.min-2.js'>\x3C/script>")</script>
<script src="js/js_vsmhpx_t-ashyt_wmw5_tcwwxjp1imovoa8jvwl_mxe.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/js_gpqjyq7fqdmzw8-29xwqivodswtmzcgy9oqahppnxuq.js"></script>
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","js/analytics.js","ga");ga("create", "UA-117930935-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");</script>
<script src="js/js_w9zc_epnms6-kudcef8ygtr3ct3dmtbiklg3fusdwum.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/tax\/","pathPrefix":"","ajaxPageState":{"theme":"tai","theme_token":"nw6KmWyTs_kqeS2zv5y5wSK7WALl7iUsWM1zSjEWhpc","js":{"sites\/all\/themes\/bootstrap\/js\/bootstrap.js":1,"\/\/ajax.googleapis.com\/ajax\/libs\/jquery\/1.10.2\/jquery.min.js":1,"0":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"\/\/cdn.jsdelivr.net\/bootstrap\/3.3.7\/js\/bootstrap.min.js":1,"sites\/all\/modules\/contrib\/google_analytics\/googleanalytics.js":1,"1":1,"sites\/all\/themes\/tai\/js\/tai.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"sites\/all\/modules\/contrib\/views\/css\/views.css":1,"sites\/all\/modules\/contrib\/ckeditor\/css\/ckeditor.css":1,"sites\/all\/modules\/contrib\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/contrib\/panels\/plugins\/layouts\/onecol\/onecol.css":1,"\/\/cdn.jsdelivr.net\/bootstrap\/3.3.7\/css\/bootstrap.min.css":1,"sites\/all\/themes\/bootstrap\/css\/3.3.7\/overrides.min.css":1,"sites\/all\/themes\/tai\/css\/style.css":1,"sites\/all\/themes\/tai\/css\/responsive.css":1}},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"bootstrap":{"anchorsFix":"0","anchorsSmoothScrolling":"0","formHasError":1,"popoverEnabled":1,"popoverOptions":{"animation":1,"html":0,"placement":"right","selector":"","trigger":"click","triggerAutoclose":1,"title":"","content":"","delay":0,"container":"body"},"tooltipEnabled":1,"tooltipOptions":{"animation":1,"html":0,"placement":"auto left","selector":"","trigger":"hover focus","delay":0,"container":"body"}}});</script>

  <link href="css/css04d4.css?family=Open+Sans:400,400i,600,600i,700,700i" rel="stylesheet">

</head>
<body class="html not-front not-logged-in no-sidebars page-cord-diagram">
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    
<nav class="navbar navbar-inverse">
  <header id="navbar" role="banner" class="navbar container navbar-default">
    <div class="container">
      <div class="col-md-6 col-sm-12 no-padding">
                  <a class="logo navbar-btn pull-left" href="index-2.html" title="Home">
            <img src="png/logo.png" alt="Home" />
          </a>
        
              </div>

      <div class="col-md-6 no-padding">
        <a class="navbar-brand minisite-logo pull-right" href="https://transparency-initiative.org/">
          <img class="logo" src="svg/icon-taxation.svg" alt="taxation logo">
        </a>
        <h1 class="pull-right">
          <a href="https://transparency-initiative.org/">Taxation and Tax Governance</a>
        </h1>
      </div>

    </div>
  </header>
</nav>


<nav class="navbar navbar-default">
  <div class="container subnav">
    <div class="col-md-3">
      <a href="index-2.html" class="btn btn-default navigation-btn">Pathways to Change</a>    </div>
    <div class="col-md-3">
      <a href="grantees.html" class="btn btn-default navigation-btn">Grantees</a>    </div>
    <div class="col-md-3">
      <a href="tax-ecosystem.html" class="btn btn-default navigation-btn">The Tax Ecosystem</a>    </div>
    <div class="col-md-3">
      <a href="financial-funding.html" class="btn btn-default navigation-btn">Funding</a>    </div>

  </div>
</nav>


<div class="main-container container">

  <header role="banner" id="page-header">
    
      </header> <!-- /#page-header -->

  <div class="row">

    
    <section class="col-sm-12">
                  <a id="main-content"></a>

      <div class="clearfix">
        <div class="col-md-12 secondary-header">
          <div class="col-sm-3 col-xs-6 no-padding">
                          <h2>THE TAX ECOSYSTEM</h2>
                      </div>

          <div class="col-sm-9 col-xs-6">
                          <ul class="secondary-nav">
                                  <li><a href="tax-ecosystem-themes.html">Tax Ecosystem Themes</a></li>
                                  <li><a href="cord-diagram.html" class="active">Cord Diagram View</a></li>
                                  <li><a href="cluster.html">Cluster View</a></li>
                                  <li><a href="tax-ecosystem.html">The Tax Map</a></li>
                              </ul>
                      </div>
        </div>
      </div>

                                              <div class="region region-content">
    <section id="block-system-main" class="block block-system clearfix">

      
  <div class="panel-display panel-1col clearfix" >
  <div class="panel-panel panel-col">
    <div><div class="panel-pane pane-custom pane-1 grantees-intro"  >
  
      
  
  <div class="pane-content">
    <p>This map visualizes the field ofÂ tax, transparency, and fiscal governance, illustrating the wide variety of entry points through which organizations, researchers, activists, and donors contribute to this agenda.</p>
  </div>

  
  </div>
<div class="panel-separator"></div><div class="panel-pane pane-block pane-tai-cluster-tai-cluster-block"  >
  
      
  
  <div class="pane-content">
    <style>
  body {
    font-family: 'Source Sans Pro', sans-serif;
  }

  .link {
    fill: none;
    stroke: #555;
    stroke-opacity: 0.4;
    stroke-width: 1px;
  }
  text {
    fill: black;
    font-weight: bold;
    font-size: 13px
  }

  .xAxis .tick text{
    fill: black;
  }
  .grid .tick line{
    stroke: grey;
    stroke-dasharray: 5, 10;
    opacity: 0.7;
  }
  .grid path{
    stroke-width: 0;
  }

  .node circle {
    fill: #999;
  }
  .node--internal circle {
    fill: #555;
  }
  .node--internal text {
    font-size: 13px;
    text-shadow: 0 2px 0 #fff, 0 -2px 0 #fff, 2px 0 0 #fff, -2px 0 0 #fff;
  }
  .node--leaf text {
    fill: white;
  }
  .ballG text {
    fill: white;
  }

  .xAxis,
  .tick {
    display: none;
  }

  .node--leaf-g a {
    color: #FFF !important;
    fill: #FFF;
  }

</style>

<svg width="1024" height="1400"></svg>

<script src="js/d3.v4.min.js"></script>
<script>

  // main svg
  var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height"),
    g = svg.append("g").attr("transform", "translate(20,0)");       // move right 20px.

  // x-scale and x-axis
  var experienceName = ["", "Basic 1.0","Alright 2.0","Handy 3.0","Expert 4.0","Guru 5.0"];
  var formatSkillPoints = function (d) {
    return experienceName[d % 6];
  }

  var xScale =  d3.scaleLinear()
    .domain([0,5])
    .range([0, 400]);

  var xAxis = d3.axisTop()
    .scale(xScale)
    .ticks(5);
    // .tickFormat(formatSkillPoints);

  // Setting up a way to handle the data
  var tree = d3.cluster()                 // This D3 API method setup the Dendrogram datum position.
    .size([height, width - 460])    // Total width - bar chart width = Dendrogram chart width
    .separation(function separate(a, b) {
      return a.parent == b.parent            // 2 levels tree grouping for category
      || a.parent.parent == b.parent
      || a.parent == b.parent.parent ? 0.4 : 0.8;
    });

  var stratify = d3.stratify()            // This D3 API method gives cvs file flat data array dimensions.
    .parentId(function(d) { return d.id.substring(0, d.id.lastIndexOf(".")); });

  // csv_url = '/sites/all/modules/custom/tai_cluster/csv/skillsdata.csv';
  csv_url = 'csv.html';

  d3.csv(csv_url, row, function(error, data) {
    if (error) throw error;

    var root = stratify(data);
    tree(root);

    // Draw every datum a line connecting to its parent.
    var link = g.selectAll(".link")
      .data(root.descendants().slice(1))
      .enter().append("path")
      .attr("class", "link")
      .attr("d", function(d) {
        return "M" + d.y + "," + d.x
          + "C" + (d.parent.y + 100) + "," + d.x
          + " " + (d.parent.y + 100) + "," + d.parent.x
          + " " + d.parent.y + "," + d.parent.x;
      });

    // Setup position for every datum; Applying different css classes to parents and leafs.
    var node = g.selectAll(".node")
      .data(root.descendants())
      .enter().append("g")
      .attr("class", function(d) { return "node" + (d.children ? " node--internal" : " node--leaf"); })
      .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });

    // Draw every datum a small circle.
    node.append("circle")
      .attr("r", 4);

    // Setup G for every leaf datum.
    var leafNodeG = g.selectAll(".node--leaf")
      .append("g")
      .attr("class", "node--leaf-g")
      .attr("transform", "translate(" + 8 + "," + -13 + ")");

    leafNodeG.append("rect")
      .attr("class","shadow")
      .style("fill", function (d) {return d.data.color;})
      .attr("width", 2)
      .attr("height", 30)
      .attr("rx", 2)
      .attr("ry", 2)
      .transition()
      .duration(800)
      .attr("width", function (d) {return xScale(d.data.value);});

    leafNodeG.append("text")
      .attr("dy", 19.5)
      .attr("x", 8)
      .style("text-anchor", "start")
      .attr('fill', '#FFF')
      .attr('class', 'clickable')
      .html(function (d) {
        nid = d.data.nid;
        title = d.data.id.substring(d.data.id.lastIndexOf(".") + 1);

        if (nid) {
          return '<a xlink:href="/tax/tax-ecosystem-themes?tri='+nid+'" href="/tax/tax-ecosystem-themes?tri='+nid+'">' + title + '</a>';
        }

        return title;
      });

    // Write down text for every parent datum
    var internalNode = g.selectAll(".node--internal");
    internalNode.append("text")
      .attr("y", -10)
      .attr('x',40)
      .style("text-anchor", "middle")
      .html(function (d) {
        nid = d.data.nid;
        title = d.data.id.substring(d.data.id.lastIndexOf(".") + 1);

        if (nid) {
          return '<a xlink:href="/tax/tax-ecosystem-themes?tri='+nid+'" href="/tax/tax-ecosystem-themes?tri='+nid+'">' + title + '</a>';
        }

        return title;
      });

    // Attach axis on top of the first leaf datum.
    /*
    var firstEndNode = g.select(".node--leaf");
    firstEndNode.insert("g")
      .attr("class","xAxis")
      .attr("transform", "translate(" + 7 + "," + -14 + ")")
      .call(xAxis);
    */

    // tick mark for x-axis
    /*
    firstEndNode.insert("g")
      .attr("class", "grid")
      .attr("transform", "translate(7," + (height - 15) + ")")
      .call(d3.axisBottom()
        .scale(xScale)
        .ticks(5)
        .tickSize(-height, 0, 0)
        .tickFormat("")
    );
    */

    // Emphasize the y-axis baseline.
    svg.selectAll(".grid").select("line")
      .style("stroke-dasharray","20,1")
      .style("stroke","black");

    // The moving ball
    /*
    var ballG = svg.insert("g")
      .attr("class","ballG")
      .attr("transform", "translate(" + 1100 + "," + height/2 + ")");
    ballG.insert("circle")
      .attr("class","shadow")
      .style("fill","steelblue")
      .attr("r", 5);
    ballG.insert("text")
      .style("text-anchor", "middle")
      .attr("dy",5)
      .text("0.0");
    */

    // Animation functions for mouse on and off events.
    d3.selectAll(".node--leaf-g")
      .on("mouseover", handleMouseOver)
      .on("mouseout", handleMouseOut);

    function handleMouseOver(d) {
      var leafG = d3.select(this);

      /*
      leafG.select("rect")
        .attr("stroke","#4D4D4D")
        .attr("stroke-width","2");
      */

      /*
      var ballGMovement = ballG.transition()
        .duration(400)
        .attr("transform", "translate(" + (d.y
        + xScale(d.data.value) + 90) + ","
        + (d.x + 1.5) + ")");

      ballGMovement.select("circle")
        .style("fill", d.data.color)
        .attr("r", 18);

      ballGMovement.select("text")
        .delay(300)
        .text(Number(d.data.value).toFixed(1));
      */
    }
    function handleMouseOut() {
      var leafG = d3.select(this);

      leafG.select("rect")
        .attr("stroke-width","0");
    }

  });

  function row(d) {
    return {
      id: d.id,
      value: +d.value,
      color: d.color,
      nid: d.nid
    };
  }

</script>  </div>

  
  </div>
</div>
  </div>
</div>

</section>
  </div>
    </section>

    
  </div>
</div>

  <script src="js/js_fbpwiznwgzweuul4q2hom07boscy5lxl_gwsk4ohqbm.js"></script>
</body>

<!-- Mirrored from transparency-initiative.org/tax/cord-diagram by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Dec 2021 19:04:09 GMT -->
</html>
